<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Get Learning Recommendations</title>
</head>
<body>
  <h2>Get Learning Recommendations</h2>

  <label for="learner_id">Learner ID:</label>
  <input type="text" id="learner_id" placeholder="e.g., L003"><br><br>

  <label for="mastered_concepts">Mastered Concepts (comma-separated):</label>
  <input type="text" id="mastered_concepts" placeholder="e.g., Variables, Loops"><br><br>

  <button onclick="getRecommendations()">Get Recommendations</button>

  <h3>Recommended Concepts:</h3>
  <ul id="result"></ul>

  <script>
    async function getRecommendations() {
      const learnerId = document.getElementById("learner_id").value.trim();
      const masteredInput = document.getElementById("mastered_concepts").value.trim();

      const masteredConcepts = masteredInput.split(',').map(c => c.trim());

      const response = await fetch("http://127.0.0.1:5000/recommend", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          learner_id: learnerId,
          mastered_concepts: masteredConcepts
        })
      });

      const data = await response.json();
      const resultList = document.getElementById("result");
      resultList.innerHTML = "";
      data.recommended_concepts.forEach(concept => {
        const li = document.createElement("li");
        li.textContent = concept;
        resultList.appendChild(li);
      });
    }
  </script>
</body>
</html>
